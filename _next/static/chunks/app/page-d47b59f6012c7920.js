(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2630:function(e,t,n){Promise.resolve().then(n.bind(n,4338))},4338:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(742),i=n(5883),a=n(7955),s=n(2153);function o(){let{config:e}=(0,i.MG)(),{loginWithRedirect:t,isAuthenticated:n,logout:o,getAccessTokenSilently:l}=(0,a.D3)(),[c,u]=(0,s.useState)(null);(0,s.useEffect)(()=>{if(!n||!e){u(null);return}l({authorizationParams:{audience:e.auth0.audience,scope:e.auth0.scope}}).then(e=>{console.log("token",e),u(e)}).catch(console.error)},[n,e]);let d=n?o:t;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{children:["Is authenticated? ",n?"Yes":"No"]}),c&&(0,r.jsxs)("div",{children:['Token: "',c,'"']}),(0,r.jsx)("button",{onClick:d,children:n?"Logout":"Login"})]})}},5883:function(e,t,n){"use strict";n.d(t,{MG:function(){return F}});var r=n(8427);class i{static RB_SYSTEM_INTERNAL="rb-system-internal";static now=()=>new Date().toISOString();static uuid=()=>(0,r.Z)();static create=(e,t,n=this.now())=>({...e,id:e.id||this.uuid(),createdBy:t,createdAt:n});static update=(e,t,n=this.now())=>({...e,lastUpdatedBy:t,lastUpdatedAt:n});static softDelete=(e,t,n=this.now())=>({...e,deletedBy:t,deletedAt:n});static softRestore=(e,t,n=this.now())=>this.update({...e,deletedBy:null,deletedAt:null},t,n);static CreateEnum=(...e)=>Object.fromEntries(e.map(e=>[e,e]))}i.CreateEnum(...["all","onlyDeleted","excludeDeleted"]);var a=n(3958);let s=a.z.object({id:a.z.string().uuid(),createdBy:a.z.string().uuid(),createdAt:a.z.string(),lastUpdatedBy:a.z.string().uuid().nullish(),lastUpdatedAt:a.z.string().nullish(),deletedAt:a.z.string().nullish(),deletedBy:a.z.string().uuid().nullish()});class o{static hasGraduation=e=>c.options.includes(e)}let l=a.z.enum(["No","Unfinished"]),c=a.z.enum(["Graduating","Graduated"]),u=a.z.enum([...l.options,...c.options]);u.Enum;let d=new Date().getFullYear(),m=a.z.object({level:u,graduationYear:a.z.coerce.number().int().min(d-50).max(d+5).nullish()}),p=m.refine(({level:e,graduationYear:t})=>{let n=o.hasGraduation(e);return n&&t||!n&&!t},{message:"Required",path:["graduationYear"]}),h=a.z.object({name:a.z.string().min(7,{message:"Name must be at least 7 characters"}),email:a.z.string().nonempty().email(),linkedinProfile:a.z.string().nonempty().url().nullish(),phoneNumber:a.z.string().min(7),country:a.z.string().nonempty()}),z=a.z.enum(["Beginner","Intermediate","Advanced","Native"]);z.Enum;let E=a.z.object({spoken:z,written:z}),_=a.z.object({current:a.z.number().nullish(),minimum:a.z.number().nullish(),desirable:a.z.number().nullish()}),g=a.z.enum(["string","number","select"]);g.Enum;let A=s.extend({jobRoleIds:a.z.array(a.z.string()),candidatesTableFieldName:a.z.string(),question:a.z.string(),answerType:g.default("string"),options:a.z.array(a.z.string()).optional()}),b=a.z.record(a.z.string(),a.z.union([a.z.union([a.z.string(),a.z.number()]),a.z.array(a.z.string())]));s.extend({name:a.z.string(),description:a.z.string().nullish(),customQuestionIds:a.z.array(A.shape.id).nullish()});let T=a.z.object({jobRoleIds:a.z.array(a.z.string().nonempty()).nonempty(),answers:b});s.extend({personalData:h.nullish(),education:p.nullish(),englishLevel:E.nullish(),salaryInformation:_.nullish(),jobRoles:T.nullish()});let I=a.z.enum(["Step1","Step2","JobRolesStep","Step3"]);I.Enum,h.pick({name:!0,email:!0,country:!0,phoneNumber:!0}),a.z.object({english:E,salary:_}),a.z.object({education:p});var B=n(5517),U=n.n(B);class C{static objectToPropList=(e,t)=>{if(!e.shape)return t?[t]:[];let n=t?`${t}.`:"",r=Object.entries(e.shape).map(([e,t])=>{let r=this.extractPropShape(t);return r instanceof a.CQ?this.objectToPropList(r,e):[`${n}${e}`]});return r.flat()};static extractPropShape=e=>(e instanceof a.ak||e instanceof a.ng)&&e.unwrap?this.extractPropShape(e.unwrap()):e instanceof a.Xc?this.extractPropShape(e._def.schema):e}class f{static loadValidatedSchema=(e,t,n,r=!0)=>{let i=f.loadConfigFromEnvironment(e,t,n),a=e.safeParse(i);if(!a.success){if(!r)return null;throw a.error}return a.data};static loadConfigFromEnvironment=(e,t,n)=>C.objectToPropList(e).reduce((e,r)=>{let i=t[r],a=n[i];return U()(e,r,a),e},{});static mergeConfigMap=e=>Object.entries(e).reduce((e,[t,n])=>({...e,...Object.fromEntries(Object.entries(n).map(([e,n])=>[`${t}.${e}`,n]))}),{});static wrapConfigVariableInQuotes=e=>{let t=e;return"string"==typeof e?t=`"${e}"`:"boolean"==typeof e?t=e?"true":"":null===e&&(t=""),t}}a.z.object({baseId:a.z.coerce.string().nonempty(),tableIds:a.z.array(a.z.coerce.string())}),a.z.object({accessToken:a.z.coerce.string().nonempty(),defaultBase:a.z.coerce.string().nonempty(),backupBucketName:a.z.coerce.string().nonempty(),backupBucketEndpoint:a.z.coerce.string().nonempty(),backupBases:a.z.coerce.string().nonempty()});let N=i.CreateEnum(...["AIRTABLE_ACCESS_TOKEN","AIRTABLE_DEFAULT_BASE","AIRTABLE_BACKUP_BUCKET_NAME","AIRTABLE_BACKUP_BUCKET_ENDPOINT","AIRTABLE_BACKUP_BASES"]);N.AIRTABLE_ACCESS_TOKEN,N.AIRTABLE_DEFAULT_BASE,N.AIRTABLE_BACKUP_BASES,N.AIRTABLE_BACKUP_BUCKET_NAME,N.AIRTABLE_BACKUP_BUCKET_ENDPOINT,a.z.object({id:a.z.string(),name:a.z.string(),phoneCode:a.z.string(),phoneInputMask:a.z.string()});let L=a.z.enum(["admin","talent","client"]);L.Enum,s.extend({name:a.z.string().nullish(),email:a.z.string().email().nullish(),roles:a.z.array(L).min(1),candidateId:a.z.string().nullish()});let y=a.z.object({baseUrl:a.z.coerce.string()}),P=["NEXT_PUBLIC_API_BASE_URL"],S=i.CreateEnum(...P),j={baseUrl:S.NEXT_PUBLIC_API_BASE_URL},R=e=>f.loadValidatedSchema(y,j,e,!1),v=a.z.object({domain:a.z.coerce.string(),clientId:a.z.coerce.string().default("RS256"),redirectUri:a.z.coerce.string().url(),audience:a.z.coerce.string(),scope:a.z.coerce.string()}),k=["NEXT_PUBLIC_AUTH0_DOMAIN","NEXT_PUBLIC_AUTH0_CLIENT_ID","NEXT_PUBLIC_AUTH0_REDIRECT_URL","NEXT_PUBLIC_AUTH0_AUDIENCE","NEXT_PUBLIC_AUTH0_SCOPE"],D=i.CreateEnum(...k),O={domain:D.NEXT_PUBLIC_AUTH0_DOMAIN,clientId:D.NEXT_PUBLIC_AUTH0_CLIENT_ID,redirectUri:D.NEXT_PUBLIC_AUTH0_REDIRECT_URL,audience:D.NEXT_PUBLIC_AUTH0_AUDIENCE,scope:D.NEXT_PUBLIC_AUTH0_SCOPE},w=e=>f.loadValidatedSchema(v,O,e);var x=n(8543);a.z.object({api:y,auth0:v});let X=[...P,...k];i.CreateEnum(...X);let K=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x.env,t={api:R(e),auth0:w(e)},n=Object.entries(t).some(e=>{let[,t]=e;return null===t});return n?null:t};f.mergeConfigMap({api:j,auth0:O});let M=null,H=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x.env;return M||(M=G(e)),M},G=e=>{try{let e=n(313);return e}catch(e){}return K(e)},F=()=>{let e=H();return{config:e}}},313:function(e){"use strict";e.exports=JSON.parse('{"api":{"baseUrl":"undefined"},"auth0":{"domain":"rb-talent-dev.us.auth0.com","clientId":"moTw5GAllMxl03ZV7oNlphONNkXF8Gda","redirectUri":"https://talent-dev.rightbalance.io","audience":"https://talent-dev.rightbalance.io","scope":"openid profile email"}}')}},function(e){e.O(0,[977,643,325,744],function(){return e(e.s=2630)}),_N_E=e.O()}]);